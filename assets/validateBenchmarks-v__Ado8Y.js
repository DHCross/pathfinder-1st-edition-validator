import{M as o}from"./pf1e-data-tables-BqrvN3By.js";function f(e){const s=[],n=typeof e.cr=="number"?e.cr:parseInt(String(e.cr),10);if(isNaN(n))return{valid:!0,messages:s,status:"PASS"};const r=o.find(a=>a.cr===String(e.cr)||a.cr===e.cr_text);if(!r)return{valid:!0,messages:s,status:"PASS"};const t=e.hp_claimed??e.hp??void 0;if(t!==void 0&&typeof t=="number"){const a=t/r.hp;a<.7?s.push({severity:"warning",category:"benchmarks",message:`HP ${t} is very low for CR ${e.cr}. Standard is ~${r.hp}. Creature may be too fragile.`,expected:r.hp,actual:t}):a>1.5&&s.push({severity:"warning",category:"benchmarks",message:`HP ${t} is very high for CR ${e.cr}. Standard is ~${r.hp}. This is a "Damage Sponge."`,expected:r.hp,actual:t})}const i=e.ac_claimed??e.ac??void 0;if(i!==void 0&&typeof i=="number"){const a=i-r.ac;a<-4?s.push({severity:"warning",category:"benchmarks",message:`AC ${i} is very low for CR ${e.cr}. Standard is ~${r.ac}. Creature will be crit often.`,expected:r.ac,actual:i}):a>4&&s.push({severity:"warning",category:"benchmarks",message:`AC ${i} is very high for CR ${e.cr}. Standard is ~${r.ac}. Players may struggle to hit.`,expected:r.ac,actual:i})}const c=[{name:"Fort",val:e.fort_save_claimed},{name:"Ref",val:e.ref_save_claimed},{name:"Will",val:e.will_save_claimed}];for(const a of c)a.val!==void 0&&typeof a.val=="number"&&a.val<r.poorSave-2&&s.push({severity:"warning",category:"benchmarks",message:`${a.name} Save +${a.val} is very low for CR ${e.cr}. Standard is ~+${r.poorSave}. It will fail often.`,expected:r.poorSave,actual:a.val});return{valid:!s.some(a=>a.severity==="critical"),messages:s,status:s.length>0?"WARN":"PASS"}}export{f as v};
