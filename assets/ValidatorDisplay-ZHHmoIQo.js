import{R as t}from"./iframe-BmNAZ7oU.js";function f(a){const r={critical:0,warning:1,note:2};return[...a].sort((i,o)=>r[i.severity]-r[o.severity])}function u(a,r){const i=r==="fixed"?"Fixed":r==="raw"?"Raw":void 0,o=r==="fixed"?" âž¡":"";return`${a}${i?` (${i})`:""}${o}`}const m=({statBlock:a,validation:r,validationTarget:i})=>{const o=f(r.messages),n=e=>{switch(e){case"critical":return"#ef4444";case"warning":return"#f59e0b";case"note":return"#9ca3af";default:return"#3b82f6"}},l=e=>{switch(e){case"critical":return"#fef2f2";case"warning":return"#fffbeb";case"note":return"#f9fafb";default:return"#eff6ff"}},s=e=>{switch(e){case"critical":return"ðŸ›‘";case"warning":return"âš ï¸";case"note":return"ðŸ“";default:return"â„¹ï¸"}},d=e=>{switch(e){case"PASS":return{backgroundColor:"#dcfce7",color:"#166534",borderColor:"#bbf7d0"};case"FAIL":return{backgroundColor:"#fee2e2",color:"#991b1b",borderColor:"#fecaca"};case"WARN":return{backgroundColor:"#fef9c3",color:"#854d0e",borderColor:"#fde047"};default:return{}}};return t.createElement("div",{style:{padding:"1.5rem",maxWidth:"42rem",margin:"0 auto",fontFamily:"sans-serif",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",backgroundColor:"white"}},t.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",borderBottom:"1px solid #e5e7eb",paddingBottom:"1rem",marginBottom:"1rem"}},t.createElement("div",null,t.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",margin:0}},a.name||"Unnamed"),t.createElement("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0}},a.size," ",a.type," â€¢ CR ",a.cr_text||a.cr)),t.createElement("span",{title:i==="fixed"?"Validating fixed (auto-fixed) version â€” see right panel":"Validating raw input version",style:{padding:"0.25rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"bold",border:"1px solid",display:"inline-flex",alignItems:"center",gap:"0.5rem",...d(r.status||"PASS")}},u(r.status||"PASS",i))),t.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"}},o.length===0?t.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af",fontStyle:"italic",border:"2px dashed #e5e7eb",borderRadius:"0.5rem"}},"âœ¨ No issues found. This stat block is mechanically perfect."):o.map((e,c)=>t.createElement("div",{key:c,style:{padding:"0.75rem",borderRadius:"0.25rem",borderLeftWidth:"4px",borderLeftStyle:"solid",border:"1px solid #e5e7eb",borderLeftColor:n(e.severity),backgroundColor:l(e.severity)}},t.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.25rem"}},t.createElement("span",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.25rem"}},s(e.severity)," ",e.category.toUpperCase())),t.createElement("p",{style:{color:"#1f2937",margin:0}},e.message),(e.expected!==void 0||e.actual!==void 0)&&t.createElement("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",fontFamily:"monospace",backgroundColor:"rgba(255,255,255,0.5)",padding:"0.25rem",borderRadius:"0.25rem",display:"inline-block"}},e.actual!==void 0&&t.createElement("span",{style:{marginRight:"0.5rem",color:"#dc2626"}},"Found: ",JSON.stringify(e.actual)),e.expected!==void 0&&t.createElement("span",{style:{color:"#16a34a"}},"Expected: ",JSON.stringify(e.expected)))))))};m.__docgenInfo={description:`Traffic Light System (Tiered Reporting)
---------------------------------------------------
This UI component renders validation messages using a 3-tier traffic light system:
 - Critical (ðŸ”´): illegal / structural / must fix -> severity: 'critical'
 - Warning  (ðŸŸ¡): suspicious / review -> severity: 'warning'
 - Note     (âšª): informational / flavor -> severity: 'note'

Design Mode (default): validates the fixed block, but structural errors from the raw block
are merged and always surfaced.
Audit Mode           : validates the raw input only.

The validationTarget prop ("raw" | "fixed") is used to label the badge and the
ARIA/tooltip for accessibility.`,methods:[],displayName:"ValidatorDisplay",props:{statBlock:{required:!0,tsType:{name:"PF1eStatBlock"},description:""},validation:{required:!0,tsType:{name:"ValidationResult"},description:""},validationTarget:{required:!1,tsType:{name:"union",raw:"'raw' | 'fixed'",elements:[{name:"literal",value:"'raw'"},{name:"literal",value:"'fixed'"}]},description:""}}};export{m as V};
