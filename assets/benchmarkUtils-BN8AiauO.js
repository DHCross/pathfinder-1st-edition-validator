import{M as l}from"./pf1e-data-tables-BqrvN3By.js";function d(e){const a=[],n=typeof e.cr=="number"?e.cr:parseInt(String(e.cr),10);if(isNaN(n))return{valid:!0,messages:a,status:"PASS"};const t=l.find(r=>r.cr===String(e.cr)||r.cr===e.cr_text);if(!t)return{valid:!0,messages:a,status:"PASS"};let o="ok",h="ok";const i=e.hp_claimed??e.hp??void 0;if(i!==void 0&&typeof i=="number"){const r=i/t.hp;r<.7?(o="low",a.push({severity:"warning",category:"benchmarks",message:`HP ${i} is very low for CR ${e.cr}. Standard is ~${t.hp}. Creature may be too fragile.`,expected:t.hp,actual:i})):r>1.5&&(o="high",a.push({severity:"warning",category:"benchmarks",message:`HP ${i} is very high for CR ${e.cr}. Standard is ~${t.hp}. This is a "Damage Sponge."`,expected:t.hp,actual:i}))}const s=e.ac_claimed??e.ac??void 0;if(s!==void 0&&typeof s=="number"){const r=s-t.ac;r<-4?(h="low",a.push({severity:"warning",category:"benchmarks",message:`AC ${s} is very low for CR ${e.cr}. Standard is ~${t.ac}. Creature will be crit often.`,expected:t.ac,actual:s})):r>4&&(h="high",a.push({severity:"warning",category:"benchmarks",message:`AC ${s} is very high for CR ${e.cr}. Standard is ~${t.ac}. Players may struggle to hit.`,expected:t.ac,actual:s}))}o==="high"&&h==="low"&&a.push({severity:"warning",category:"benchmarks",message:`HP ${i} is far above benchmark while AC ${s} is far below it. This indicates 5e-style drift (damage sponge / low defense). Consider lowering HP or raising AC to stay within PF1e CR ${e.cr} expectations.`,expected:{hp:t.hp,ac:t.ac},actual:{hp:i,ac:s}});const m=[{name:"Fort",val:e.fort_save_claimed},{name:"Ref",val:e.ref_save_claimed},{name:"Will",val:e.will_save_claimed}];for(const r of m)r.val!==void 0&&typeof r.val=="number"&&r.val<t.poorSave-2&&a.push({severity:"warning",category:"benchmarks",message:`${r.name} Save +${r.val} is very low for CR ${e.cr}. Standard is ~+${t.poorSave}. It will fail often.`,expected:t.poorSave,actual:r.val});const c={Tiny:0,Small:0,Medium:0,Large:2,Huge:4,Gargantuan:6,Colossal:8}[e.size];return c!==void 0&&n<c&&a.push({severity:"warning",category:"benchmarks",message:`CR ${e.cr} is below minimum for ${e.size} size. ${e.size} creatures typically have CR â‰¥ ${c}.`,expected:c,actual:n}),{valid:!a.some(r=>r.severity==="critical"),messages:a,status:a.length>0?"WARN":"PASS"}}function u(e){if(e==null)return null;const a=typeof e=="number"?e.toString():String(e).trim();return l.find(n=>n.cr===a||n.cr===a.replace(/^CR\s+/i,""))??null}function v(e){const a=u(e);return!a||!a.hp?null:Math.max(1,Math.round(a.hp/4.5))}export{v as e,u as g,d as v};
