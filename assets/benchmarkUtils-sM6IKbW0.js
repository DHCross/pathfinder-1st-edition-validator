import{M as o}from"./pf1e-data-tables-BqrvN3By.js";function h(e){const a=[],n=typeof e.cr=="number"?e.cr:parseInt(String(e.cr),10);if(isNaN(n))return{valid:!0,messages:a,status:"PASS"};const t=o.find(r=>r.cr===String(e.cr)||r.cr===e.cr_text);if(!t)return{valid:!0,messages:a,status:"PASS"};const s=e.hp_claimed??e.hp??void 0;if(s!==void 0&&typeof s=="number"){const r=s/t.hp;r<.7?a.push({severity:"warning",category:"benchmarks",message:`HP ${s} is very low for CR ${e.cr}. Standard is ~${t.hp}. Creature may be too fragile.`,expected:t.hp,actual:s}):r>1.5&&a.push({severity:"warning",category:"benchmarks",message:`HP ${s} is very high for CR ${e.cr}. Standard is ~${t.hp}. This is a "Damage Sponge."`,expected:t.hp,actual:s})}const i=e.ac_claimed??e.ac??void 0;if(i!==void 0&&typeof i=="number"){const r=i-t.ac;r<-4?a.push({severity:"warning",category:"benchmarks",message:`AC ${i} is very low for CR ${e.cr}. Standard is ~${t.ac}. Creature will be crit often.`,expected:t.ac,actual:i}):r>4&&a.push({severity:"warning",category:"benchmarks",message:`AC ${i} is very high for CR ${e.cr}. Standard is ~${t.ac}. Players may struggle to hit.`,expected:t.ac,actual:i})}const m=[{name:"Fort",val:e.fort_save_claimed},{name:"Ref",val:e.ref_save_claimed},{name:"Will",val:e.will_save_claimed}];for(const r of m)r.val!==void 0&&typeof r.val=="number"&&r.val<t.poorSave-2&&a.push({severity:"warning",category:"benchmarks",message:`${r.name} Save +${r.val} is very low for CR ${e.cr}. Standard is ~+${t.poorSave}. It will fail often.`,expected:t.poorSave,actual:r.val});const c={Tiny:0,Small:0,Medium:0,Large:2,Huge:4,Gargantuan:6,Colossal:8}[e.size];return c!==void 0&&n<c&&a.push({severity:"warning",category:"benchmarks",message:`CR ${e.cr} is below minimum for ${e.size} size. ${e.size} creatures typically have CR â‰¥ ${c}.`,expected:c,actual:n}),{valid:!a.some(r=>r.severity==="critical"),messages:a,status:a.length>0?"WARN":"PASS"}}function u(e){if(e==null)return null;const a=typeof e=="number"?e.toString():String(e).trim();return o.find(n=>n.cr===a||n.cr===a.replace(/^CR\s+/i,""))??null}function d(e){const a=u(e);return!a||!a.hp?null:Math.max(1,Math.round(a.hp/4.5))}export{d as e,u as g,h as v};
