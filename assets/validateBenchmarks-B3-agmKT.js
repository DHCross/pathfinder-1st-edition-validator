import{M as m}from"./pf1e-data-tables-BqrvN3By.js";function h(e){const s=[],c=typeof e.cr=="number"?e.cr:parseInt(String(e.cr),10);if(isNaN(c))return{valid:!0,messages:s,status:"PASS"};const r=m.find(a=>a.cr===String(e.cr)||a.cr===e.cr_text);if(!r)return{valid:!0,messages:s,status:"PASS"};const i=e.hp_claimed??e.hp??void 0;if(i!==void 0&&typeof i=="number"){const a=i/r.hp;a<.7?s.push({severity:"warning",category:"benchmarks",message:`HP ${i} is very low for CR ${e.cr}. Standard is ~${r.hp}. Creature may be too fragile.`,expected:r.hp,actual:i}):a>1.5&&s.push({severity:"warning",category:"benchmarks",message:`HP ${i} is very high for CR ${e.cr}. Standard is ~${r.hp}. This is a "Damage Sponge."`,expected:r.hp,actual:i})}const t=e.ac_claimed??e.ac??void 0;if(t!==void 0&&typeof t=="number"){const a=t-r.ac;a<-4?s.push({severity:"warning",category:"benchmarks",message:`AC ${t} is very low for CR ${e.cr}. Standard is ~${r.ac}. Creature will be crit often.`,expected:r.ac,actual:t}):a>4&&s.push({severity:"warning",category:"benchmarks",message:`AC ${t} is very high for CR ${e.cr}. Standard is ~${r.ac}. Players may struggle to hit.`,expected:r.ac,actual:t})}const o=[{name:"Fort",val:e.fort_save_claimed},{name:"Ref",val:e.ref_save_claimed},{name:"Will",val:e.will_save_claimed}];for(const a of o)a.val!==void 0&&typeof a.val=="number"&&a.val<r.poorSave-2&&s.push({severity:"warning",category:"benchmarks",message:`${a.name} Save +${a.val} is very low for CR ${e.cr}. Standard is ~+${r.poorSave}. It will fail often.`,expected:r.poorSave,actual:a.val});const n={Tiny:0,Small:0,Medium:0,Large:2,Huge:4,Gargantuan:6,Colossal:8}[e.size];return n!==void 0&&c<n&&s.push({severity:"warning",category:"benchmarks",message:`CR ${e.cr} is below minimum for ${e.size} size. ${e.size} creatures typically have CR â‰¥ ${n}.`,expected:n,actual:c}),{valid:!s.some(a=>a.severity==="critical"),messages:s,status:s.length>0?"WARN":"PASS"}}export{h as v};
