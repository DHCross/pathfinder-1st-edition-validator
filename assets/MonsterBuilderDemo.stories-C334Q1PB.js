import{R as e,r as i}from"./iframe-BmNAZ7oU.js";import{v as w,a as W}from"./validateEconomy-C9ua8KJL.js";import{v as M}from"./validateBenchmarks-v__Ado8Y.js";import{X as P}from"./pf1e-data-tables-BqrvN3By.js";import"./preload-helper-PPVm8Dsz.js";const N=["Monster","NPC","From-Scratch"],C=({name:r,targetCR:m,buildPath:a,onNameChange:l,onTargetCRChange:s,onBuildPathChange:u})=>e.createElement("div",{style:{display:"grid",gap:16}},e.createElement("div",null,e.createElement("h2",{style:{margin:"0 0 4px"}},r," â€” Foundation"),e.createElement("p",{style:{margin:"0 0 12px",color:"#4b5563"}},"Choose how you want to start, set a target CR, and name the creature.")),e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Creature Name",e.createElement("input",{value:r,onChange:o=>l(o.target.value),placeholder:"e.g., Embermaw Basilisk",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("div",{style:{display:"grid",gap:8}},e.createElement("div",{style:{fontWeight:600}},"Build Path"),e.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap"}},N.map(o=>{const d=a===o;return e.createElement("button",{key:o,onClick:()=>u(o),style:{borderRadius:999,padding:"8px 14px",border:d?"1px solid #4338ca":"1px solid #e5e7eb",background:d?"#eef2ff":"#fff",color:d?"#312e81":"#111827",fontWeight:d?700:500,cursor:"pointer",boxShadow:d?"0 1px 4px #4338ca22":"none"}},o)})),e.createElement("div",{style:{color:"#6b7280",fontSize:13}},"Monster for classic foes; NPC for humanoid gear; From-Scratch for blank canvas.")),e.createElement("div",{style:{display:"grid",gap:6}},e.createElement("label",{style:{fontWeight:600,display:"flex",justifyContent:"space-between"}},"Target CR",e.createElement("span",{style:{color:"#6b7280",fontWeight:500}},"CR ",m)),e.createElement("input",{type:"range",min:1,max:25,value:m,onChange:o=>s(parseInt(o.target.value,10))}),e.createElement("div",{style:{color:"#6b7280",fontSize:13}},"This calibrates benchmarks for HP, saves, attacks, and treasure tiers."))));C.__docgenInfo={description:"",methods:[],displayName:"FoundationBuilder",props:{name:{required:!0,tsType:{name:"string"},description:""},targetCR:{required:!0,tsType:{name:"number"},description:""},buildPath:{required:!0,tsType:{name:"union",raw:"'Monster' | 'NPC' | 'From-Scratch'",elements:[{name:"literal",value:"'Monster'"},{name:"literal",value:"'NPC'"},{name:"literal",value:"'From-Scratch'"}]},description:""},onNameChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(next: string) => void",signature:{arguments:[{type:{name:"string"},name:"next"}],return:{name:"void"}}},description:""},onTargetCRChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(next: number) => void",signature:{arguments:[{type:{name:"number"},name:"next"}],return:{name:"void"}}},description:""},onBuildPathChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(next: FoundationProps['buildPath']) => void",signature:{arguments:[{type:{name:"union",raw:"FoundationProps['buildPath']"},name:"next"}],return:{name:"void"}}},description:""}}};function A(r){return`A ${r.role??"Villain"} motivated by ${r.motivation??"power"} wants to...`}const p=["Foundation","Mechanics","Narrative","Treasury"],L={name:"New Creature",targetCR:1,hd:1,role:"Villain",motivation:"power",treasureType:"Standard",buildPath:"Monster"},h=r=>({padding:"8px 14px",borderRadius:999,border:"1px solid",borderColor:r?"#4338ca":"#e5e7eb",background:r?"#eef2ff":"#fff",color:r?"#312e81":"#111827",fontWeight:r?700:600,cursor:"pointer",boxShadow:r?"0 1px 6px #4338ca1c":"0 1px 2px #0000000d"}),E=()=>{const[r,m]=i.useState(0),[a,l]=i.useState(L),s=i.useMemo(()=>({name:a.name||"Creature",cr:a.targetCR.toString(),xp:P[a.targetCR.toString()]||0,size:"Medium",type:"Animal",racialHD:a.hd,hp:Math.max(1,a.hd*8),hp_claimed:Math.max(1,a.hd*8),ac:10,ac_claimed:10,fort:0,ref:0,will:0,fort_save_claimed:0,ref_save_claimed:0,will_save_claimed:0,bab:0,bab_claimed:0,str:10,dex:10,con:10,int:10,wis:10,cha:10,feats:[],treasureType:a.treasureType}),[a.hd,a.name,a.targetCR,a.treasureType]),u=i.useMemo(()=>w(s),[s]),o=i.useMemo(()=>M(s),[s]),d=i.useMemo(()=>W(s),[s]),c=i.useMemo(()=>[...u.messages||[],...o.messages||[],...d.messages||[]],[u.messages,o.messages,d.messages]),f=i.useMemo(()=>c.some(t=>t.severity==="critical")?"FAIL":c.some(t=>t.severity==="warning")?"WARN":"PASS",[c]),g=u.messages.filter(t=>t.category==="structure"),R=c.filter(t=>["structure","benchmarks","basics"].includes(t.category)),x=c.filter(t=>t.category==="economy"),v=R.filter(t=>t.category!=="structure"&&t.severity!=="note"),k=t=>t==="FAIL"?"#b91c1c":t==="WARN"?"#b45309":"#15803d",b=i.useMemo(()=>r===0?a.name.trim().length>0:!0,[a.name,r]),S=r<p.length-1?`Next: ${p[r+1]}`:"Finish",T=r===0?"Back":`Back to ${p[r-1]}`,B=i.useMemo(()=>[{label:`CR ${a.targetCR}`,tone:"#312e81"},{label:a.buildPath,tone:"#0f766e"},{label:a.role||"Role TBD",tone:"#9a3412"},{label:a.treasureType||"Treasure TBD",tone:"#1d4ed8"},{label:`Rules: ${f}`,tone:k(f)}],[f,a.buildPath,a.role,a.targetCR,a.treasureType]);return e.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc, #eef2ff)"}},e.createElement("div",{style:{maxWidth:1200,margin:"32px auto",padding:"0 16px 48px"}},e.createElement("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 12px 40px #0f172a1a",padding:24,border:"1px solid #e5e7eb"}},e.createElement("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,marginBottom:12}},e.createElement("div",null,e.createElement("h1",{style:{margin:"0 0 4px"}},"Bestiary Architect"),e.createElement("div",{style:{color:"#6b7280"}},"Interactive builder for Pathfinder monsters and NPCs")),e.createElement("div",{style:{color:"#6b7280",fontWeight:600,fontSize:13}},"Step ",r+1," of ",p.length)),e.createElement("nav",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16}},p.map((t,n)=>e.createElement("button",{key:t,style:h(r===n),onClick:()=>m(n)},t))),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.65fr) minmax(260px, 1fr)",gap:20,alignItems:"start"}},e.createElement("div",{style:{display:"grid",gap:16}},r===0&&e.createElement(e.Fragment,null,e.createElement(C,{name:a.name,targetCR:a.targetCR,buildPath:a.buildPath,onNameChange:t=>l(n=>({...n,name:t})),onTargetCRChange:t=>l(n=>({...n,targetCR:t})),onBuildPathChange:t=>l(n=>({...n,buildPath:t}))}),g.length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Structural mismatch"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},g.map((t,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},t.message," ",t.expected?`(Expected: ${t.expected})`:""," ",t.actual?`(Actual: ${t.actual})`:""))),e.createElement("button",{onClick:()=>l(t=>({...t,targetCR:Math.min(25,t.hd)})),style:{marginTop:8,padding:"8px 12px",borderRadius:8,border:"1px solid #d97706",background:"#fef3c7",color:"#92400e",fontWeight:700,cursor:"pointer"}},"Adjust CR to HD (quick fix)"))),r===1&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Mechanics Engine"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Tune hit dice and see quick math."),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Hit Dice",e.createElement("input",{type:"number",value:a.hd,min:1,max:20,onChange:t=>l(n=>({...n,hd:Number(t.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("div",{style:{color:"#111827",fontWeight:600}},"Calculated HP: ",e.createElement("span",{style:{color:"#4338ca"}},a.hd*8)," (placeholder)"),g.length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Structural mismatch"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},g.map((t,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},t.message," ",t.expected?`(Expected: ${t.expected})`:""," ",t.actual?`(Actual: ${t.actual})`:""))),e.createElement("button",{onClick:()=>l(t=>({...t,targetCR:Math.min(25,t.hd)})),style:{marginTop:8,padding:"8px 12px",borderRadius:8,border:"1px solid #d97706",background:"#fef3c7",color:"#92400e",fontWeight:700,cursor:"pointer"}},"Adjust CR to HD (quick fix)")),v.length>0&&e.createElement("div",{style:{border:"1px solid #c084fc",background:"#f5f3ff",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#6b21a8",marginBottom:6}},"Rules Lawyer: Benchmarks"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#6b21a8"}},v.map((t,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},t.message," ",t.expected?`(Expected: ${t.expected})`:""," ",t.actual?`(Actual: ${t.actual})`:"")))))),r===2&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Narrative Weaver"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Give the creature purpose and tone."),e.createElement("label",{style:{display:"grid",gap:6,fontWeight:600}},"Role",e.createElement("input",{value:a.role,onChange:t=>l(n=>({...n,role:t.target.value})),placeholder:"Villain, Helper, Minion",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("label",{style:{display:"grid",gap:6,fontWeight:600}},"Motivation",e.createElement("input",{value:a.motivation,onChange:t=>l(n=>({...n,motivation:t.target.value})),placeholder:"power, revenge, devotion",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("div",{style:{background:"#f5f3ff",border:"1px solid #e0e7ff",padding:12,borderRadius:10,color:"#312e81"}},e.createElement("div",{style:{fontWeight:700,marginBottom:4}},"Prompt starter"),e.createElement("div",{style:{fontStyle:"italic",lineHeight:1.5}},A({role:["Villain","Helper","Minion"].includes(a.role)?a.role:void 0,motivation:a.motivation})))),r===3&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Treasury & Lair"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Choose treasure and habitat hooks."),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Treasure Type",e.createElement("select",{value:a.treasureType,onChange:t=>l(n=>({...n,treasureType:t.target.value})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}},e.createElement("option",null,"Standard"),e.createElement("option",null,"Double"),e.createElement("option",null,"NPC Gear"),e.createElement("option",null,"None"))),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Environment",e.createElement("input",{placeholder:"e.g. temperate forest",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Organization",e.createElement("input",{placeholder:"solitary, pair, gang",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),x.filter(t=>t.severity!=="note").length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Economy"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},x.filter(t=>t.severity!=="note").map((t,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},t.message," ",t.expected?`(Expected: ${t.expected})`:""," ",t.actual?`(Actual: ${t.actual})`:"")))))),e.createElement("aside",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:14,padding:16,boxShadow:"inset 0 1px 0 #fff"}},e.createElement("div",{style:{fontWeight:700,marginBottom:8}},"Creature Snapshot"),e.createElement("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:12}},B.map(t=>e.createElement("span",{key:t.label,style:{background:`${t.tone}14`,color:t.tone,border:`1px solid ${t.tone}33`,padding:"6px 10px",borderRadius:999,fontWeight:600,fontSize:12}},t.label))),e.createElement("div",{style:{display:"grid",gap:8,color:"#374151"}},e.createElement("div",null,e.createElement("strong",null,"Name:")," ",a.name),e.createElement("div",null,e.createElement("strong",null,"Role:")," ",a.role),e.createElement("div",null,e.createElement("strong",null,"Motivation:")," ",a.motivation),e.createElement("div",null,e.createElement("strong",null,"Treasure:")," ",a.treasureType)),e.createElement("div",{style:{marginTop:14,paddingTop:12,borderTop:"1px solid #e5e7eb"}},e.createElement("div",{style:{fontWeight:700,marginBottom:6}},"Rules Lawyer Workbench"),e.createElement("div",{style:{fontSize:13,color:"#4b5563",marginBottom:8}},"Live checks from Basics, Benchmarks, and Economy."),c.filter(t=>t.severity!=="note").length===0?e.createElement("div",{style:{color:"#15803d",fontWeight:600}},"No issues detected for current inputs."):e.createElement("ul",{style:{margin:0,paddingLeft:18,display:"grid",gap:6}},c.filter(t=>t.severity!=="note").map((t,n)=>e.createElement("li",{key:n,style:{color:t.severity==="critical"?"#b91c1c":"#b45309"}},e.createElement("strong",null,t.category,":")," ",t.message)))))),e.createElement("footer",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:20}},e.createElement("div",{style:{color:"#6b7280",fontSize:13}},r===0&&"Set name, path, and CR, then continue to Mechanics.",r===1&&"Tune hit dice, then move to Narrative.",r===2&&"Set role and motivation, then pick treasure.",r===3&&"Finish treasury details or go back to adjust earlier steps."),e.createElement("div",{style:{display:"flex",gap:8}},e.createElement("button",{onClick:()=>m(t=>Math.max(0,t-1)),disabled:r===0,style:{...h(!1),opacity:r===0?.5:1,cursor:r===0?"not-allowed":"pointer"}},T),e.createElement("button",{onClick:()=>m(t=>Math.min(p.length-1,t+1)),disabled:!b,style:{...h(!0),background:"#312e81",color:"#fff",borderColor:"#312e81",opacity:b?1:.5,cursor:b?"pointer":"not-allowed"}},S))))))};E.__docgenInfo={description:"",methods:[],displayName:"BestiaryArchitectApp"};const D={title:"Tools/Bestiary Architect",component:E,parameters:{layout:"padded"}},y={render:()=>e.createElement(E,null)};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: () => <BestiaryArchitectApp />
}`,...y.parameters?.docs?.source}}};const q=["Default"];export{y as Default,q as __namedExportsOrder,D as default};
