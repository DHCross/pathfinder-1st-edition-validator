const B={Barbarian:{hitDieType:12,babProgression:"fast",goodSaves:["Fort"],skillRanksPerLevel:4,crMod:-1},Bard:{hitDieType:8,babProgression:"medium",goodSaves:["Ref","Will"],skillRanksPerLevel:6,crMod:-1},Cleric:{hitDieType:8,babProgression:"medium",goodSaves:["Fort","Will"],skillRanksPerLevel:2,crMod:-1},Druid:{hitDieType:8,babProgression:"medium",goodSaves:["Fort","Will"],skillRanksPerLevel:4,crMod:-1},Fighter:{hitDieType:10,babProgression:"fast",goodSaves:["Fort"],skillRanksPerLevel:2,crMod:-1},Monk:{hitDieType:8,babProgression:"medium",goodSaves:["Fort","Ref","Will"],skillRanksPerLevel:4,crMod:-1},Paladin:{hitDieType:10,babProgression:"fast",goodSaves:["Fort","Will"],skillRanksPerLevel:2,crMod:-1},Ranger:{hitDieType:10,babProgression:"fast",goodSaves:["Fort","Ref"],skillRanksPerLevel:6,crMod:-1},Rogue:{hitDieType:8,babProgression:"medium",goodSaves:["Ref"],skillRanksPerLevel:8,crMod:-1},Sorcerer:{hitDieType:6,babProgression:"slow",goodSaves:["Will"],skillRanksPerLevel:2,crMod:-1},Wizard:{hitDieType:6,babProgression:"slow",goodSaves:["Will"],skillRanksPerLevel:2,crMod:-1},Warrior:{hitDieType:10,babProgression:"fast",goodSaves:["Fort"],skillRanksPerLevel:2,crMod:-2},Expert:{hitDieType:8,babProgression:"medium",goodSaves:["Ref","Will"],skillRanksPerLevel:6,crMod:-2},Commoner:{hitDieType:6,babProgression:"slow",goodSaves:[],skillRanksPerLevel:2,crMod:-2},Adept:{hitDieType:6,babProgression:"slow",goodSaves:["Will"],skillRanksPerLevel:2,crMod:-2},Aristocrat:{hitDieType:8,babProgression:"medium",goodSaves:["Will"],skillRanksPerLevel:4,crMod:-2}},w={Fine:{acAttackMod:8,cmbCmdMod:-8,stealthMod:16},Diminutive:{acAttackMod:4,cmbCmdMod:-4,stealthMod:12},Tiny:{acAttackMod:2,cmbCmdMod:-2,stealthMod:8},Small:{acAttackMod:1,cmbCmdMod:-1,stealthMod:4},Medium:{acAttackMod:0,cmbCmdMod:0,stealthMod:0},Large:{acAttackMod:-1,cmbCmdMod:1,stealthMod:-4},Huge:{acAttackMod:-2,cmbCmdMod:2,stealthMod:-8},Gargantuan:{acAttackMod:-4,cmbCmdMod:4,stealthMod:-12},Colossal:{acAttackMod:-8,cmbCmdMod:8,stealthMod:-16}},f={basicNpc:{1:260,2:390,3:780,4:1650,5:2400,6:3450,7:4650,8:6e3,9:7800,10:10050,11:12750,12:16350,13:21e3,14:27e3,15:34800,16:45e3,17:58500,18:75e3,19:96e3,20:123e3},heroicNpc:{}},M={1:260,2:550,3:800,4:1150,5:1550,6:2e3,7:2600,8:3350,9:4250,10:5450,11:7e3,12:9e3,13:11600,14:15e3,15:19500,16:25e3,17:32e3,18:41e3,19:53e3,20:67e3},R=13,L=4;(function(){let a=0;for(let t=1;t<=20;t=t+1){const r=M[t];if(!r)continue;const s=r*R/L;a+=s,f.heroicNpc[t]=Math.round(a)}})();const W=[{cr:"1/8",hp:5,ac:10,highAttackBonus:-1,lowAttackBonus:-2,averageDamagePerRound:2,primaryAbilityDC:9,secondaryAbilityDC:6,goodSave:1,poorSave:-2},{cr:"1/6",hp:7,ac:10,highAttackBonus:0,lowAttackBonus:-1,averageDamagePerRound:3,primaryAbilityDC:10,secondaryAbilityDC:7,goodSave:2,poorSave:-1},{cr:"1/4",hp:8,ac:10,highAttackBonus:0,lowAttackBonus:-1,averageDamagePerRound:3,primaryAbilityDC:10,secondaryAbilityDC:7,goodSave:2,poorSave:-1},{cr:"1/3",hp:9,ac:10,highAttackBonus:0,lowAttackBonus:-1,averageDamagePerRound:3,primaryAbilityDC:10,secondaryAbilityDC:7,goodSave:2,poorSave:-1},{cr:"1/2",hp:10,ac:11,highAttackBonus:1,lowAttackBonus:0,averageDamagePerRound:4,primaryAbilityDC:11,secondaryAbilityDC:8,goodSave:3,poorSave:0},{cr:"1",hp:15,ac:12,highAttackBonus:2,lowAttackBonus:1,averageDamagePerRound:7,primaryAbilityDC:12,secondaryAbilityDC:9,goodSave:4,poorSave:1},{cr:"2",hp:20,ac:14,highAttackBonus:4,lowAttackBonus:3,averageDamagePerRound:10,primaryAbilityDC:13,secondaryAbilityDC:9,goodSave:5,poorSave:1},{cr:"3",hp:30,ac:15,highAttackBonus:6,lowAttackBonus:4,averageDamagePerRound:13,primaryAbilityDC:14,secondaryAbilityDC:10,goodSave:6,poorSave:2},{cr:"4",hp:40,ac:17,highAttackBonus:8,lowAttackBonus:6,averageDamagePerRound:16,primaryAbilityDC:15,secondaryAbilityDC:10,goodSave:7,poorSave:3},{cr:"5",hp:55,ac:18,highAttackBonus:10,lowAttackBonus:7,averageDamagePerRound:20,primaryAbilityDC:15,secondaryAbilityDC:11,goodSave:8,poorSave:4},{cr:"6",hp:70,ac:19,highAttackBonus:12,lowAttackBonus:8,averageDamagePerRound:25,primaryAbilityDC:16,secondaryAbilityDC:11,goodSave:9,poorSave:5},{cr:"7",hp:85,ac:20,highAttackBonus:13,lowAttackBonus:10,averageDamagePerRound:30,primaryAbilityDC:17,secondaryAbilityDC:12,goodSave:10,poorSave:6},{cr:"8",hp:100,ac:21,highAttackBonus:15,lowAttackBonus:11,averageDamagePerRound:35,primaryAbilityDC:18,secondaryAbilityDC:12,goodSave:11,poorSave:7},{cr:"9",hp:115,ac:23,highAttackBonus:17,lowAttackBonus:12,averageDamagePerRound:40,primaryAbilityDC:18,secondaryAbilityDC:13,goodSave:12,poorSave:8},{cr:"10",hp:130,ac:24,highAttackBonus:18,lowAttackBonus:13,averageDamagePerRound:45,primaryAbilityDC:19,secondaryAbilityDC:13,goodSave:13,poorSave:9},{cr:"11",hp:145,ac:25,highAttackBonus:19,lowAttackBonus:14,averageDamagePerRound:50,primaryAbilityDC:20,secondaryAbilityDC:14,goodSave:14,poorSave:10},{cr:"12",hp:160,ac:27,highAttackBonus:21,lowAttackBonus:15,averageDamagePerRound:55,primaryAbilityDC:21,secondaryAbilityDC:15,goodSave:15,poorSave:11},{cr:"13",hp:180,ac:28,highAttackBonus:22,lowAttackBonus:16,averageDamagePerRound:60,primaryAbilityDC:21,secondaryAbilityDC:15,goodSave:16,poorSave:12},{cr:"14",hp:200,ac:29,highAttackBonus:23,lowAttackBonus:17,averageDamagePerRound:65,primaryAbilityDC:22,secondaryAbilityDC:16,goodSave:17,poorSave:12},{cr:"15",hp:220,ac:30,highAttackBonus:24,lowAttackBonus:18,averageDamagePerRound:70,primaryAbilityDC:23,secondaryAbilityDC:16,goodSave:18,poorSave:13},{cr:"16",hp:240,ac:31,highAttackBonus:26,lowAttackBonus:19,averageDamagePerRound:80,primaryAbilityDC:24,secondaryAbilityDC:17,goodSave:19,poorSave:14},{cr:"17",hp:270,ac:32,highAttackBonus:27,lowAttackBonus:20,averageDamagePerRound:90,primaryAbilityDC:24,secondaryAbilityDC:18,goodSave:20,poorSave:15},{cr:"18",hp:300,ac:33,highAttackBonus:28,lowAttackBonus:21,averageDamagePerRound:100,primaryAbilityDC:25,secondaryAbilityDC:18,goodSave:20,poorSave:16},{cr:"19",hp:330,ac:34,highAttackBonus:29,lowAttackBonus:22,averageDamagePerRound:110,primaryAbilityDC:26,secondaryAbilityDC:19,goodSave:21,poorSave:16},{cr:"20",hp:370,ac:36,highAttackBonus:30,lowAttackBonus:23,averageDamagePerRound:120,primaryAbilityDC:27,secondaryAbilityDC:20,goodSave:22,poorSave:17},{cr:"21",hp:410,ac:37,highAttackBonus:31,lowAttackBonus:24,averageDamagePerRound:130,primaryAbilityDC:27,secondaryAbilityDC:20,goodSave:23,poorSave:18},{cr:"22",hp:450,ac:38,highAttackBonus:32,lowAttackBonus:25,averageDamagePerRound:140,primaryAbilityDC:28,secondaryAbilityDC:21,goodSave:24,poorSave:18},{cr:"23",hp:500,ac:39,highAttackBonus:34,lowAttackBonus:26,averageDamagePerRound:150,primaryAbilityDC:29,secondaryAbilityDC:22,goodSave:25,poorSave:19},{cr:"24",hp:550,ac:41,highAttackBonus:35,lowAttackBonus:27,averageDamagePerRound:160,primaryAbilityDC:29,secondaryAbilityDC:22,goodSave:26,poorSave:20},{cr:"25",hp:600,ac:42,highAttackBonus:36,lowAttackBonus:28,averageDamagePerRound:170,primaryAbilityDC:30,secondaryAbilityDC:23,goodSave:27,poorSave:20}],T={"1/8":50,"1/6":65,"1/4":100,"1/3":135,"1/2":200,1:400,2:600,3:800,4:1200,5:1600,6:2400,7:3200,8:4800,9:6400,10:9600,11:12800,12:19200,13:25600,14:38400,15:51200,16:76800,17:102400,18:153600,19:204800,20:307200,21:409600,22:614400,23:819200,24:1228800,25:1638400,26:2457600,27:3276800,28:4915200,29:6553600,30:9830400},x={"1/8":{slow:35,medium:50,fast:65},"1/6":{slow:45,medium:65,fast:80},"1/4":{slow:65,medium:85,fast:100},"1/3":{slow:90,medium:135,fast:170},"1/2":{slow:130,medium:190,fast:230},1:{slow:170,medium:260,fast:400},2:{slow:350,medium:550,fast:800},3:{slow:550,medium:800,fast:1200},4:{slow:750,medium:1150,fast:1700},5:{slow:1e3,medium:1550,fast:2300},6:{slow:1350,medium:2e3,fast:3e3},7:{slow:1750,medium:2600,fast:3900},8:{slow:2200,medium:3350,fast:5e3},9:{slow:2850,medium:4250,fast:6400},10:{slow:3650,medium:5450,fast:8200},11:{slow:4650,medium:7e3,fast:10500},12:{slow:6e3,medium:9e3,fast:13500},13:{slow:7750,medium:11600,fast:17500},14:{slow:1e4,medium:15e3,fast:22e3},15:{slow:13e3,medium:19500,fast:29e3},16:{slow:16500,medium:25e3,fast:38e3},17:{slow:22e3,medium:32e3,fast:48e3},18:{slow:28e3,medium:41e3,fast:62e3},19:{slow:35e3,medium:53e3,fast:79e3},20:{slow:45e3,medium:67e3,fast:1e5},21:{slow:58e3,medium:88e3,fast:13e4},22:{slow:75e3,medium:11e4,fast:17e4},23:{slow:98e3,medium:15e4,fast:22e4},24:{slow:13e4,medium:2e5,fast:29e4},25:{slow:17e4,medium:26e4,fast:38e4}};function F(e){const a=[];if(!e)return a.push({severity:"error",category:"basics",message:"No stat block provided."}),{valid:!1,messages:a,status:"FAIL"};const t=e.classLevels||e.class_levels||[],r=e.racialHD??e.racial_hd_count??0;let s=0,i=0;r&&typeof r=="number"&&(s+=r);for(const o of t){const D=o.className||o.class_name,c=o.level??o.level_count??o.level_count??0,b=B[D];if(!b){a.push({severity:"warning",category:"basics",message:`Class '${D}' not found in data tables.`}),s+=c;continue}s+=c;const C=(b.babProgression||"").toString().toLowerCase();C==="fast"?i+=c:C==="medium"?i+=Math.floor(c*.75):i+=Math.floor(c*.5)}const d=w[e.size]||{cmbCmdMod:0},m=(d.cmbCmdMod??d.cmbCmdMod)||0,S=e.str??e.ability_scores?.str??10,k=e.dex??e.ability_scores?.dex??10,g=Math.floor((S-10)/2),u=Math.floor((k-10)/2),y=10+i+g+u+m,l=e.cmd??e.cmd_claimed??e.cmb??void 0;l!=null&&l!==y&&a.push({severity:"error",category:"basics",message:`Calculated CMD is ${y} (10 + BAB ${i} + Str ${g} + Dex ${u} + Size ${m}), but stat block claims ${l}.`});const v=Math.ceil(s/2),h=(e.feats||[]).length||0;h<v&&a.push({severity:"warning",category:"basics",message:`Creature has ${s} HD and should have at least ${v} feats, but only lists ${h}.`});const A=String(e.cr),n=T[A];e.xp!==void 0&&n!==void 0&&e.xp!==n&&a.push({severity:"warning",category:"basics",message:`XP ${e.xp} does not match canonical value ${n} for CR ${A}. (Source: Core Rulebook Experience Point Awards table)`});const p=a.some(o=>o.severity==="error"),P=a.some(o=>o.severity==="warning");return{valid:!p,messages:a,status:p?"FAIL":P?"WARN":"PASS"}}export{B as C,W as M,w as S,x as T,f as W,T as X,F as v};
