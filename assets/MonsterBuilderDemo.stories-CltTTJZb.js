import{R as e,r as c}from"./iframe-BwpRn5Oq.js";import{v as $,a as j}from"./validateEconomy-C9ua8KJL.js";import{v as _}from"./validateBenchmarks-v__Ado8Y.js";import{X as V}from"./pf1e-data-tables-BqrvN3By.js";import"./preload-helper-PPVm8Dsz.js";const q=["Monster","NPC","From-Scratch"],G=({name:r,targetCR:i,creatureType:t,hd:l,str:F,dex:H,con:k,int:h,wis:s,cha:f,buildPath:C,onNameChange:g,onTargetCRChange:v,onCreatureTypeChange:S,onHdChange:B,onStrChange:u,onDexChange:R,onConChange:E,onIntChange:y,onWisChange:z,onChaChange:w,onBuildPathChange:A,onLoadPreset:W})=>e.createElement("section",{"aria-labelledby":"foundation-card-title",style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:16,padding:20,boxShadow:"inset 0 1px 0 #fff, 0 10px 30px #0f172a0d"}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:12}},e.createElement("div",null,e.createElement("h2",{id:"foundation-card-title",style:{margin:"0 0 4px"}},"New Creature â€” Foundation"),e.createElement("p",{style:{margin:0,color:"#475569"}},"Choose your build path, set CR, HD, ability scores, and give the creature a name.")),e.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},e.createElement("span",{style:{fontSize:12,fontWeight:700,color:"#312e81",textTransform:"uppercase",letterSpacing:.6}},"Start here"),W&&e.createElement("button",{onClick:()=>W("NastyBeast"),style:{fontSize:12,fontWeight:600,padding:"6px 12px",borderRadius:8,border:"1px solid #9f7aea",background:"#faf5ff",color:"#6b21a8",cursor:"pointer"}},"Load: NastyBeast"))),e.createElement("div",{style:{display:"grid",gap:18}},e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Creature Type"),e.createElement("div",{style:{background:"#f0fdf4",border:"1px solid #86efac",borderRadius:12,padding:12,marginBottom:6}},e.createElement("div",{style:{fontSize:13,color:"#166534",fontWeight:600,marginBottom:4}},"ðŸ”§ Foundational Rules Package"),e.createElement("div",{style:{fontSize:12,color:"#16a34a",lineHeight:1.5}},"Your creature type dictates HD size, BAB progression, save bonuses, skill economy, and inherent traits. This choice is the structural skeleton of your monster.")),e.createElement("select",{value:t,onChange:o=>S(o.target.value),style:{border:"1px solid #cbd5f5",borderRadius:12,padding:"12px 14px",fontSize:15,width:"100%",boxShadow:"0 2px 8px #1e3a8a18"}},e.createElement("option",{value:"Humanoid"},"Humanoid (d8, Medium BAB, Int-based skills)"),e.createElement("option",{value:"Animal"},"Animal (d8, Medium BAB, low-light vision, scent)"),e.createElement("option",{value:"Construct"},"Construct (d10, Fast BAB, immune to mind-affecting)"),e.createElement("option",{value:"Dragon"},"Dragon (d12, Fast BAB, all good saves, high skills)"),e.createElement("option",{value:"Fey"},"Fey (d6, Slow BAB, high skills, forest-aligned)"),e.createElement("option",{value:"Magical Beast"},"Magical Beast (d10, Fast BAB, darkvision)"),e.createElement("option",{value:"Monstrous Humanoid"},"Monstrous Humanoid (d10, Fast BAB, darkvision)"),e.createElement("option",{value:"Aberration"},"Aberration (d8, Medium BAB, will-focused, bizarre)"),e.createElement("option",{value:"Outsider"},"Outsider (d10, Fast BAB, any saves, planar origin)"),e.createElement("option",{value:"Undead"},"Undead (d8, Medium BAB, will-focused, immune to critical hits)"),e.createElement("option",{value:"Ooze"},"Ooze (d8, Medium BAB, mindless, immune to precision damage)"),e.createElement("option",{value:"Plant"},"Plant (d8, Medium BAB, fort-focused, immune to mental effects)"),e.createElement("option",{value:"Vermin"},"Vermin (d8, Medium BAB, mindless, immune to mental effects)"))),e.createElement("label",{style:{fontWeight:700,display:"grid",gap:8}},"Creature Name",e.createElement("div",{style:{position:"relative"}},e.createElement("input",{value:r,onChange:o=>g(o.target.value),placeholder:"e.g., Embermaw Basilisk",style:{border:"1px solid #cbd5f5",borderRadius:12,padding:"12px 14px",fontSize:15,width:"100%",maxWidth:640,boxShadow:"0 2px 8px #1e3a8a18"}}),e.createElement("span",{style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",color:"#94a3b8",fontSize:12}},"Required"))),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Build Path"),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10}},q.map(o=>{const p=C===o,x=o==="Monster"?"Classic foes with bestiary math":o==="NPC"?"Humanoid + gear presets":"Blank canvas for homebrew";return e.createElement("button",{key:o,onClick:()=>A(o),type:"button",style:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left",borderRadius:14,padding:"12px 14px",border:p?"2px solid #4338ca":"1px solid #cbd5f5",background:p?"#eef2ff":"#fff",color:p?"#1e1b4b":"#0f172a",fontWeight:600,cursor:"pointer",gap:4,boxShadow:p?"0 6px 16px #312e811c":"0 2px 6px #0f172a0d"}},e.createElement("span",null,o),e.createElement("span",{style:{fontSize:13,color:p?"#4c1d95":"#475569",fontWeight:500}},x))}))),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Creature Type Details"),e.createElement("div",{style:{background:"#f5f5ff",border:"1px solid #e0e7ff",borderRadius:10,padding:12,display:"grid",gap:8,fontSize:13,color:"#312e81"}},e.createElement("div",null,e.createElement("strong",null,"HD:")," ",t==="Dragon"?"d12":t==="Fey"?"d6":t==="Construct"||t==="Magical Beast"||t==="Monstrous Humanoid"||t==="Outsider"?"d10":"d8"),e.createElement("div",null,e.createElement("strong",null,"BAB Progression:")," ",t==="Fey"?"Slow (Â½ HD)":t==="Construct"||t==="Dragon"||t==="Magical Beast"||t==="Monstrous Humanoid"||t==="Outsider"?"Fast (Full HD)":"Medium (Â¾ HD)"),e.createElement("div",null,e.createElement("strong",null,"Good Saves:")," ",t==="Dragon"?"Fort, Ref, Will":t==="Humanoid"?"Any one":t==="Animal"?"Fort, Ref":t==="Undead"?"Will":t==="Plant"||t==="Vermin"?"Fort":t==="Aberration"?"Will":t==="Fey"||t==="Monstrous Humanoid"?"Ref, Will":"Varies"),e.createElement("div",null,e.createElement("strong",null,"Skill Ranks/HD:")," ",t==="Dragon"||t==="Outsider"||t==="Fey"?"6 + Int":t==="Aberration"||t==="Undead"||t==="Monstrous Humanoid"?"4 + Int":"2 + Int"))),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e.createElement("div",{style:{fontWeight:700}},"Target CR"),e.createElement("span",{style:{fontSize:13,color:"#475569"}},"CR ",i)),e.createElement("div",{style:{display:"flex",alignItems:"center",gap:12}},e.createElement("span",{style:{fontSize:12,color:"#94a3b8"}},"1"),e.createElement("input",{type:"range",min:1,max:25,value:i,onChange:o=>v(parseInt(o.target.value,10)),style:{flexGrow:1}}),e.createElement("span",{style:{fontSize:12,color:"#94a3b8"}},"25")),e.createElement("div",{style:{fontSize:13,color:"#475569"}},"Calibrates HP, saves, attack bonuses, and loot tiers. Adjust to match your tableâ€™s target difficulty.")),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Hit Dice"),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:10,alignItems:"end"}},e.createElement("div",null,e.createElement("input",{type:"number",min:1,max:20,value:l,onChange:o=>B(Number(o.target.value)),style:{border:"1px solid #cbd5f5",borderRadius:12,padding:"12px 14px",fontSize:15,width:"100%",boxShadow:"0 2px 8px #1e3a8a18"}})),e.createElement("div",{style:{fontSize:13,color:"#475569",fontWeight:600}},t==="Dragon"?"d12":t==="Fey"?"d6":t==="Construct"||t==="Magical Beast"||t==="Monstrous Humanoid"||t==="Outsider"?"d10":"d8")),e.createElement("div",{style:{fontSize:13,color:"#475569"}},"Determines durability, feats, and saves. HD die size is locked to your creature type.")),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Ability Scores"),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10}},[{label:"STR",value:F,onChange:u},{label:"DEX",value:H,onChange:R},{label:"CON",value:k,onChange:E},{label:"INT",value:h,onChange:y},{label:"WIS",value:s,onChange:z},{label:"CHA",value:f,onChange:w}].map(({label:o,value:p,onChange:x})=>e.createElement("label",{key:o,style:{fontWeight:600,display:"grid",gap:6}},o,e.createElement("input",{type:"number",min:1,max:50,value:p,onChange:D=>x(Number(D.target.value)),style:{border:"1px solid #cbd5f5",borderRadius:8,padding:"8px 10px",fontSize:14,textAlign:"center"}})))),e.createElement("div",{style:{fontSize:13,color:"#475569"}},"Base stats for the creature. INT affects feats; CON affects HP."))));function U(r){return`A ${r.role??"Villain"} motivated by ${r.motivation??"power"} wants to...`}function T(r,i){const t=Math.floor((i-10)/2);return Math.max(1,r*(8+t))}const X={Aberration:{hd:"d8",bab:"medium",goodSaves:["will"],skillRanks:4,traits:"Bizarre anatomy"},Animal:{hd:"d8",bab:"medium",goodSaves:["fort","ref"],skillRanks:2,traits:"Low-light vision, scent"},Construct:{hd:"d10",bab:"fast",goodSaves:[],skillRanks:2,traits:"Immune to mind-affecting, poison, death effects"},Dragon:{hd:"d12",bab:"fast",goodSaves:["fort","ref","will"],skillRanks:6,traits:"Immune to sleep, paralysis"},Fey:{hd:"d6",bab:"slow",goodSaves:["ref","will"],skillRanks:6,traits:"Often forest/underground"},Humanoid:{hd:"d8",bab:"medium",goodSaves:["any"],skillRanks:2,traits:"Breathe, eat, sleep"},"Magical Beast":{hd:"d10",bab:"fast",goodSaves:["fort","ref"],skillRanks:2,traits:"Darkvision, low-light vision"},"Monstrous Humanoid":{hd:"d10",bab:"fast",goodSaves:["ref","will"],skillRanks:4,traits:"Darkvision, monstrous features"},Ooze:{hd:"d8",bab:"medium",goodSaves:[],skillRanks:2,traits:"Mindless, immune to precision damage"},Outsider:{hd:"d10",bab:"fast",goodSaves:["any","any"],skillRanks:6,traits:"From other planes"},Plant:{hd:"d8",bab:"medium",goodSaves:["fort"],skillRanks:2,traits:"Immune to mind-affecting, sleep, poison"},Undead:{hd:"d8",bab:"medium",goodSaves:["will"],skillRanks:4,traits:"Immune to critical hits, poison, death effects"},Vermin:{hd:"d8",bab:"medium",goodSaves:["fort"],skillRanks:2,traits:"Mindless, immune to mind-affecting"}},K=(r,i)=>i==="slow"?Math.floor(r/2):i==="medium"?Math.floor(r*3/4):r,Y={NastyBeast:{name:"NastyBeast",targetCR:1,creatureType:"Monstrous Humanoid",hd:2,str:14,dex:12,con:14,int:10,wis:10,cha:10,ac:12,bab:2,fort:2,ref:2,will:0,selectedFeat:"Power Attack",role:"Villain",motivation:"power",treasureType:"Standard",buildPath:"Monster"}},b=["Foundation","Mechanics","Narrative","Treasury"],Q=r=>{const t={complete:{bg:"#e0e7ff",border:"#c7d2fe",color:"#312e81"},current:{bg:"#312e81",border:"#312e81",color:"#fff"},upcoming:{bg:"#f1f5f9",border:"#e2e8f0",color:"#64748b"}}[r];return{display:"flex",alignItems:"center",gap:12,padding:"10px 16px",borderRadius:999,border:`1px solid ${t.border}`,background:t.bg,color:t.color,minWidth:160,justifyContent:"flex-start",transition:"box-shadow 0.2s ease",boxShadow:r==="current"?"0 8px 20px #312e8118":"none",cursor:"pointer"}},J={critical:{icon:"â›”",color:"#b91c1c",bg:"#fef2f2",border:"#fecaca"},warning:{icon:"âš ï¸",color:"#b45309",bg:"#fffbeb",border:"#fcd34d66"},note:{icon:"â„¹ï¸",color:"#2563eb",bg:"#eff6ff",border:"#bfdbfe"}},Z={structure:{guidance:"CR and Hit Dice should stay in sync to avoid illegal math.",quickFixKey:"alignCrHd",quickFixLabel:"Match CR to HD",ctaLabel:"Open Foundation",ctaStep:0},basics:{guidance:"Review feats, XP, and chassis math inside Mechanics.",ctaLabel:"Go to Mechanics",ctaStep:1},benchmarks:{guidance:"Tweak CR or HD until HP/AC benchmarks land in the safe range.",ctaLabel:"Adjust Mechanics",ctaStep:1},economy:{guidance:"Adjust treasure tier or gear in the Treasury step.",ctaLabel:"Open Treasury",ctaStep:3}},ee={name:"New Creature",targetCR:1,creatureType:"Humanoid",hd:2,str:10,dex:10,con:14,int:10,wis:10,cha:10,ac:12,bab:1,fort:2,ref:0,will:0,selectedFeat:"Improved Initiative",role:"Villain",motivation:"power",treasureType:"Standard",buildPath:"Monster"},te=(r,i)=>i<=0?0:1+Math.floor((r-1)/2),N=r=>({padding:"8px 14px",borderRadius:999,border:"1px solid",borderColor:r?"#4338ca":"#e5e7eb",background:r?"#eef2ff":"#fff",color:r?"#312e81":"#111827",fontWeight:r?700:600,cursor:"pointer",boxShadow:r?"0 1px 6px #4338ca1c":"0 1px 2px #0000000d"}),L=()=>{const[r,i]=c.useState(0),[t,l]=c.useState(ee),F=r<b.length-1?`Next: ${b[r+1]}`:"Finish",H=r===0?"Back":`Back to ${b[r-1]}`,k=T(t.hd,t.con),h=te(t.hd,t.int),s=X[t.creatureType],f=K(t.hd,s.bab),C=t.bab!==f,g=c.useMemo(()=>({name:t.name||"Creature",cr:t.targetCR.toString(),xp:V[t.targetCR.toString()]||0,size:"Medium",type:t.creatureType,racialHD:t.hd,hp:T(t.hd,t.con),hp_claimed:T(t.hd,t.con),ac:t.ac,ac_claimed:t.ac,fort:t.fort,ref:t.ref,will:t.will,fort_save_claimed:t.fort,ref_save_claimed:t.ref,will_save_claimed:t.will,bab:t.bab,bab_claimed:t.bab,str:t.str,dex:t.dex,con:t.con,int:t.int,wis:t.wis,cha:t.cha,feats:Array.from({length:h},(a,n)=>t.selectedFeat||`Feat ${n+1}`),treasureType:t.treasureType}),[t.hd,t.name,t.targetCR,t.treasureType,t.creatureType,t.str,t.dex,t.con,t.int,t.wis,t.cha,t.ac,t.bab,t.fort,t.ref,t.will,t.selectedFeat,h]),v=c.useMemo(()=>$(g),[g]),S=c.useMemo(()=>_(g),[g]),B=c.useMemo(()=>j(g),[g]),u=c.useMemo(()=>[...v.messages||[],...S.messages||[],...B.messages||[]],[v.messages,S.messages,B.messages]),R=c.useMemo(()=>u.filter(a=>a.severity!=="note"),[u]),E=c.useMemo(()=>u.some(a=>a.severity==="critical")?"FAIL":u.some(a=>a.severity==="warning")?"WARN":"PASS",[u]),y=v.messages.filter(a=>a.category==="structure"),z=u.filter(a=>["structure","benchmarks","basics"].includes(a.category)),w=u.filter(a=>a.category==="economy"),A=z.filter(a=>a.category!=="structure"&&a.severity!=="note"),W=a=>a==="FAIL"?"#b91c1c":a==="WARN"?"#b45309":"#15803d",o=c.useMemo(()=>r===0?t.name.trim().length>0:!0,[t.name,r]),p=c.useMemo(()=>[{label:`CR ${t.targetCR}`,tone:"#312e81"},{label:t.creatureType,tone:"#0f766e"},{label:t.buildPath,tone:"#7c2d12"},{label:t.role||"Role TBD",tone:"#9a3412"},{label:t.treasureType||"Treasure TBD",tone:"#1d4ed8"},{label:`Rules: ${E}`,tone:W(E)}],[E,t.buildPath,t.creatureType,t.role,t.targetCR,t.treasureType]),x=a=>{typeof a=="number"&&i(a)},D=a=>{const n=Y[a];l(n)},O=a=>{switch(a){case"alignCrHd":l(n=>({...n,targetCR:Math.min(25,Math.max(1,n.hd))}));break}};return e.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc, #eef2ff)"}},e.createElement("div",{style:{maxWidth:1200,margin:"32px auto",padding:"0 16px 48px"}},e.createElement("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 12px 40px #0f172a1a",padding:24,border:"1px solid #e5e7eb"}},e.createElement("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,marginBottom:12}},e.createElement("div",null,e.createElement("h1",{style:{margin:"0 0 4px"}},"Bestiary Architect"),e.createElement("div",{style:{color:"#6b7280"}},"Interactive builder for Pathfinder monsters and NPCs")),e.createElement("div",{style:{color:"#6b7280",fontWeight:600,fontSize:13}},"Step ",r+1," of ",b.length)),e.createElement("nav",{style:{marginBottom:20}},e.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12}},b.map((a,n)=>{const d=n<r?"complete":n===r?"current":"upcoming";return e.createElement(e.Fragment,{key:a},e.createElement("button",{type:"button",onClick:()=>i(n),style:Q(d),"aria-current":d==="current"?"step":void 0},e.createElement("span",{style:{width:32,height:32,borderRadius:"50%",border:d==="current"?"2px solid #fff":"2px solid transparent",background:d==="current"?"#4338ca":d==="complete"?"#c7d2fe":"#fff",color:d==="current"?"#fff":d==="complete"?"#312e81":"#94a3b8",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:700}},n+1),e.createElement("div",{style:{textAlign:"left"}},e.createElement("div",{style:{fontSize:12,fontWeight:600,lineHeight:1}},"Step ",n+1),e.createElement("div",{style:{fontSize:14,fontWeight:700}},a))),n<b.length-1&&e.createElement("div",{"aria-hidden":!0,style:{alignSelf:"center",flexGrow:1,minWidth:30,height:2,background:n<r?"#c7d2fe":"#e2e8f0"}}))}))),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.65fr) minmax(260px, 1fr)",gap:20,alignItems:"start"}},e.createElement("div",{style:{display:"grid",gap:16}},r===0&&e.createElement(e.Fragment,null,e.createElement(G,{name:t.name,targetCR:t.targetCR,creatureType:t.creatureType,hd:t.hd,str:t.str,dex:t.dex,con:t.con,int:t.int,wis:t.wis,cha:t.cha,buildPath:t.buildPath,onNameChange:a=>l(n=>({...n,name:a})),onTargetCRChange:a=>l(n=>({...n,targetCR:a})),onCreatureTypeChange:a=>l(n=>({...n,creatureType:a})),onHdChange:a=>l(n=>({...n,hd:a})),onStrChange:a=>l(n=>({...n,str:a})),onDexChange:a=>l(n=>({...n,dex:a})),onConChange:a=>l(n=>({...n,con:a})),onIntChange:a=>l(n=>({...n,int:a})),onWisChange:a=>l(n=>({...n,wis:a})),onChaChange:a=>l(n=>({...n,cha:a})),onBuildPathChange:a=>l(n=>({...n,buildPath:a})),onLoadPreset:D}),y.length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Structural mismatch"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},y.map((a,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},a.message," ",a.expected?`(Expected: ${a.expected})`:""," ",a.actual?`(Actual: ${a.actual})`:""))),e.createElement("button",{onClick:()=>l(a=>({...a,targetCR:Math.min(25,a.hd)})),style:{marginTop:8,padding:"8px 12px",borderRadius:8,border:"1px solid #d97706",background:"#fef3c7",color:"#92400e",fontWeight:700,cursor:"pointer"}},"Adjust CR to HD (quick fix)"))),r===1&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Mechanics Engine"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Align stats to your creature type. Tune AC, refine BAB, select feats, and verify synergy."),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{background:"#f0f9ff",border:"1px solid #38bdf8",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#0369a1",marginBottom:6}},"Type: ",t.creatureType),e.createElement("div",{style:{fontSize:13,color:"#0c4a6e"}},e.createElement("strong",null,"Expected Mechanics:")," ",s.hd," HD, ",s.bab," BAB progression (suggested +",f,"), good saves: ",s.goodSaves.join(", ")||"none",", ",s.skillRanks," skill ranks/HD.")),C&&e.createElement("div",{style:{border:"1px solid #7c3aed",background:"#f5f3ff",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#5b21b6",marginBottom:6}},"Type-Based BAB Suggestion"),e.createElement("div",{style:{color:"#6b21a8",marginBottom:8}},"Your ",t.creatureType," with ",t.hd," HD uses ",e.createElement("strong",null,s.bab," progression"),", suggesting a BAB of ",e.createElement("strong",null,"+",f),". Current BAB: ",e.createElement("strong",null,"+",t.bab),"."),e.createElement("button",{onClick:()=>l(a=>({...a,bab:f})),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #a78bfa",background:"#ede9fe",color:"#5b21b6",fontWeight:600,cursor:"pointer"}},"Apply Suggested BAB")),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10}},e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"AC Base",e.createElement("input",{type:"number",min:10,max:50,value:10+Math.floor((t.dex-10)/2),readOnly:!0,style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14,background:"#f9fafb"}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"AC Total",e.createElement("input",{type:"number",min:10,max:50,value:t.ac,onChange:a=>l(n=>({...n,ac:Number(a.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"BAB",e.createElement("input",{type:"number",min:0,max:20,value:t.bab,onChange:a=>l(n=>({...n,bab:Number(a.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}}))),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Saving Throws"),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:10}},e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Fort",e.createElement("input",{type:"number",value:t.fort,onChange:a=>l(n=>({...n,fort:Number(a.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"8px 10px",fontSize:14}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Ref",e.createElement("input",{type:"number",value:t.ref,onChange:a=>l(n=>({...n,ref:Number(a.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"8px 10px",fontSize:14}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Will",e.createElement("input",{type:"number",value:t.will,onChange:a=>l(n=>({...n,will:Number(a.target.value)})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"8px 10px",fontSize:14}})))),e.createElement("div",{style:{display:"grid",gap:10}},e.createElement("div",{style:{fontWeight:700}},"Feat Selection (",h,")"),e.createElement("select",{value:t.selectedFeat,onChange:a=>l(n=>({...n,selectedFeat:a.target.value})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"8px 10px",fontSize:14}},e.createElement("option",{value:"Improved Initiative"},"Improved Initiative (Villain: Act first in combat)"),e.createElement("option",{value:"Power Attack"},"Power Attack (Melee: Trade accuracy for damage)"),e.createElement("option",{value:"Toughness"},"Toughness (Survivability: +3 HP for 1 HD)"),e.createElement("option",{value:"Weapon Focus"},"Weapon Focus (Melee: +1 on one attack type)"),e.createElement("option",{value:"Combat Reflexes"},"Combat Reflexes (Tactics: Extra AoO per round)"),e.createElement("option",{value:"Dodge"},"Dodge (Defense: +1 AC vs. one opponent)")),e.createElement("div",{style:{fontSize:12,color:"#475569",fontStyle:"italic"}},t.selectedFeat==="Improved Initiative"?"âœ“ Villain synergy: Act before enemies to control encounter.":t.selectedFeat==="Power Attack"?"âœ“ Offensive: Boost damage at the cost of accuracy. Pairs well with high BAB or STR.":t.selectedFeat==="Toughness"?"âœ“ Durability: Gain +3 HP to stay in the fight longer.":t.selectedFeat==="Weapon Focus"?"âœ“ Accuracy: +1 on attack rolls with one weapon type. Great for low-BAB creatures.":t.selectedFeat==="Combat Reflexes"?"âœ“ Tactics: Make extra attacks of opportunity each round. Synergizes with DEX.":t.selectedFeat==="Dodge"?"âœ“ Defense: Gain +1 AC against one foe per round. Stacks with other AC bonuses.":"Choose a feat to see synergy guidance.")),e.createElement("div",{style:{color:"#111827",fontWeight:600}},"Calculated HP: ",e.createElement("span",{style:{color:"#4338ca"}},k)," (based on HD and CON)"),y.length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Structural mismatch"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},y.map((a,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},a.message," ",a.expected?`(Expected: ${a.expected})`:""," ",a.actual?`(Actual: ${a.actual})`:""))),e.createElement("button",{onClick:()=>l(a=>({...a,targetCR:Math.min(25,a.hd)})),style:{marginTop:8,padding:"8px 12px",borderRadius:8,border:"1px solid #d97706",background:"#fef3c7",color:"#92400e",fontWeight:700,cursor:"pointer"}},"Adjust CR to HD (quick fix)")),A.length>0&&e.createElement("div",{style:{border:"1px solid #c084fc",background:"#f5f3ff",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#6b21a8",marginBottom:6}},"Rules Lawyer: Benchmarks"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#6b21a8"}},A.map((a,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},a.message," ",a.expected?`(Expected: ${a.expected})`:""," ",a.actual?`(Actual: ${a.actual})`:"")))))),r===2&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Narrative Weaver"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Give the creature purpose and tone."),e.createElement("label",{style:{display:"grid",gap:6,fontWeight:600}},"Role",e.createElement("input",{value:t.role,onChange:a=>l(n=>({...n,role:a.target.value})),placeholder:"Villain, Helper, Minion",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("label",{style:{display:"grid",gap:6,fontWeight:600}},"Motivation",e.createElement("input",{value:t.motivation,onChange:a=>l(n=>({...n,motivation:a.target.value})),placeholder:"power, revenge, devotion",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("div",{style:{background:"#f5f3ff",border:"1px solid #e0e7ff",padding:12,borderRadius:10,color:"#312e81"}},e.createElement("div",{style:{fontWeight:700,marginBottom:4}},"Prompt starter"),e.createElement("div",{style:{fontStyle:"italic",lineHeight:1.5}},U({role:["Villain","Helper","Minion"].includes(t.role)?t.role:void 0,motivation:t.motivation})))),r===3&&e.createElement("div",{style:{display:"grid",gap:12}},e.createElement("h2",{style:{margin:0}},"Treasury & Lair"),e.createElement("p",{style:{margin:0,color:"#4b5563"}},"Choose treasure and habitat hooks."),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Treasure Type",e.createElement("select",{value:t.treasureType,onChange:a=>l(n=>({...n,treasureType:a.target.value})),style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}},e.createElement("option",null,"Standard"),e.createElement("option",null,"Double"),e.createElement("option",null,"NPC Gear"),e.createElement("option",null,"None"))),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Environment",e.createElement("input",{placeholder:"e.g. temperate forest",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),e.createElement("label",{style:{fontWeight:600,display:"grid",gap:6}},"Organization",e.createElement("input",{placeholder:"solitary, pair, gang",style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 12px",fontSize:14}})),w.filter(a=>a.severity!=="note").length>0&&e.createElement("div",{style:{border:"1px solid #f59e0b",background:"#fffbeb",borderRadius:10,padding:12}},e.createElement("div",{style:{fontWeight:700,color:"#b45309",marginBottom:6}},"Rules Lawyer: Economy"),e.createElement("ul",{style:{margin:0,paddingLeft:18,color:"#92400e"}},w.filter(a=>a.severity!=="note").map((a,n)=>e.createElement("li",{key:n,style:{marginBottom:4}},a.message," ",a.expected?`(Expected: ${a.expected})`:""," ",a.actual?`(Actual: ${a.actual})`:"")))))),e.createElement("aside",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:14,padding:16,boxShadow:"inset 0 1px 0 #fff"}},e.createElement("div",{style:{fontWeight:700,marginBottom:8}},"Creature Snapshot"),e.createElement("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:12}},p.map(a=>e.createElement("span",{key:a.label,style:{background:`${a.tone}14`,color:a.tone,border:`1px solid ${a.tone}33`,padding:"6px 10px",borderRadius:999,fontWeight:600,fontSize:12}},a.label))),e.createElement("div",{style:{display:"grid",gap:8,color:"#374151"}},e.createElement("div",null,e.createElement("strong",null,"Name:")," ",t.name),e.createElement("div",null,e.createElement("strong",null,"Role:")," ",t.role),e.createElement("div",null,e.createElement("strong",null,"Motivation:")," ",t.motivation),e.createElement("div",null,e.createElement("strong",null,"Treasure:")," ",t.treasureType)),e.createElement("div",{style:{marginTop:10,padding:"10px 12px",background:"#ffffff",border:"1px dashed #e5e7eb",borderRadius:10,display:"grid",gap:6,color:"#111827"}},e.createElement("div",{style:{fontWeight:700}},"Quick Stats"),e.createElement("div",{style:{fontSize:12,color:"#475569",fontStyle:"italic",marginBottom:6}},e.createElement("strong",null,t.creatureType)," | ",s.hd," HD | ",s.bab," BAB | ",s.skillRanks," skill ranks/HD"),e.createElement("div",{style:{display:"grid",gap:4,fontSize:13}},e.createElement("div",null,e.createElement("strong",null,"HD:")," ",t.hd,"d",s.hd.slice(1)),e.createElement("div",null,e.createElement("strong",null,"HP (est):")," ",k),e.createElement("div",null,e.createElement("strong",null,"AC:")," ",t.ac),e.createElement("div",null,e.createElement("strong",null,"BAB:")," +",t.bab," ",C?`(type suggests +${f})`:"âœ“"),e.createElement("div",null,e.createElement("strong",null,"Saves:")," Fort +",t.fort," / Ref +",t.ref," / Will +",t.will),e.createElement("div",null,e.createElement("strong",null,"STR/DEX/CON:")," ",t.str,"/",t.dex,"/",t.con),e.createElement("div",null,e.createElement("strong",null,"INT/WIS/CHA:")," ",t.int,"/",t.wis,"/",t.cha),e.createElement("div",null,e.createElement("strong",null,"Feat:")," ",t.selectedFeat))),e.createElement("div",{style:{marginTop:14,paddingTop:12,borderTop:"1px solid #e5e7eb"}},e.createElement("div",{style:{fontWeight:700,marginBottom:6}},"Rules Lawyer Workbench"),e.createElement("div",{style:{fontSize:13,color:"#4b5563",marginBottom:8}},"Live checks from Basics, Benchmarks, and Economy."),R.length===0?e.createElement("div",{style:{color:"#15803d",fontWeight:600}},"No issues detected for current inputs."):e.createElement("div",{style:{display:"grid",gap:10}},R.map((a,n)=>{const d=J[a.severity],m=Z[a.category],P=!!m?.quickFixKey,I=m?.ctaLabel&&typeof m.ctaStep=="number";return e.createElement("div",{key:`${a.category}-${n}`,style:{border:`1px solid ${d.border}`,background:d.bg,borderRadius:12,padding:12,color:d.color}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:8}},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:10}},e.createElement("span",{"aria-hidden":!0,style:{fontSize:18}},d.icon),e.createElement("div",null,e.createElement("div",{style:{fontWeight:700,textTransform:"capitalize",color:"#111827"}},a.category),e.createElement("div",{style:{fontSize:12}},a.severity.toUpperCase())))),e.createElement("p",{style:{margin:"8px 0",color:"#111827"}},a.message),(a.expected!==void 0||a.actual!==void 0)&&e.createElement("div",{style:{display:"flex",gap:16,flexWrap:"wrap",fontSize:13,color:"#0f172a"}},a.expected!==void 0&&e.createElement("div",null,e.createElement("strong",null,"Expected:")," ",String(a.expected)),a.actual!==void 0&&e.createElement("div",null,e.createElement("strong",null,"Actual:")," ",String(a.actual))),m?.guidance&&e.createElement("div",{style:{marginTop:8,fontSize:13,color:"#475569"}},m.guidance),(P||I)&&e.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:10}},P&&m?.quickFixKey&&e.createElement("button",{type:"button",onClick:()=>O(m.quickFixKey),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #c4b5fd",background:"#ede9fe",color:"#4c1d95",fontWeight:600,cursor:"pointer"}},m.quickFixLabel||"Apply quick fix"),I&&e.createElement("button",{type:"button",onClick:()=>x(m.ctaStep),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #cbd5f5",background:"#fff",color:"#1e1b4b",fontWeight:600,cursor:"pointer"}},m.ctaLabel)))}))))),e.createElement("footer",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:20}},e.createElement("div",{style:{color:"#475569",fontSize:13,fontWeight:500}},r===0&&"Complete the foundation card, then jump into Mechanics.",r===1&&"Review mechanics and add special abilities.",r===2&&"Capture story hooks, then define treasure.",r===3&&"Lock in loot or revisit earlier steps as needed."),e.createElement("div",{style:{display:"flex",gap:8}},e.createElement("button",{onClick:()=>i(a=>Math.max(0,a-1)),disabled:r===0,style:{...N(!1),opacity:r===0?.5:1,cursor:r===0?"not-allowed":"pointer"}},H),e.createElement("button",{onClick:()=>i(a=>Math.min(b.length-1,a+1)),disabled:!o,style:{...N(!0),background:"#312e81",color:"#fff",borderColor:"#312e81",opacity:o?1:.5,cursor:o?"pointer":"not-allowed"}},F))))))},ie={title:"Tools/Bestiary Architect",component:L,parameters:{layout:"padded"}},M={render:()=>e.createElement(L,null)};M.parameters={...M.parameters,docs:{...M.parameters?.docs,source:{originalSource:`{
  render: () => <BestiaryArchitectApp />
}`,...M.parameters?.docs?.source}}};const se=["Default"];export{M as Default,se as __namedExportsOrder,ie as default};
